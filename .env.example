###############################
# .env 配置示例（中文说明）  #
###############################

# 必填：Gemini 服务基础地址与版本。默认指向官方 API，如你使用自建代理/镜像，请改为你的网关地址。
# 例如：GEMINI_BASE_URL=https://your-proxy.example.com
GEMINI_BASE_URL=https://generativelanguage.googleapis.com
GEMINI_API_VERSION=v1beta

# 可选但强烈建议：全局 API Key。若你在每个模型别名下单独配置了 API Key，可留空。
GEMINI_API_KEY=

# 服务器监听地址与端口（可选）。
HOST=0.0.0.0
# 建议与 IDE 默认的 Ollama 端口一致（如 IDE 访问 http://localhost:11434）
PORT=11434

# 兼容接口版本：用于 GET /api/version 返回的版本号（可按 IDE 期望值修改）
OLLAMA_VERSION=0.1.32

# 日志配置（可选）：
# LOG_LEVEL=INFO/DEBUG/WARN/ERROR，默认 INFO；
# LOG_JSON=true 输出 JSON 日志；
# LOG_MAX_BODY=1000 控制日志中请求体/响应体最大截断长度。
LOG_LEVEL=INFO
LOG_JSON=false
LOG_MAX_BODY=1000

# 流式响应格式（可选）：
# OLLAMA_STREAM_FORMAT=ndjson   # 默认，很多 IDE 的 Ollama 适配使用按行 JSON
# 或 OLLAMA_STREAM_FORMAT=sse   # 如你的 IDE 需要标准 SSE（data: 行）
OLLAMA_STREAM_FORMAT=ndjson

# 必填（若需要 /api/tags 列表或多模型）：声明模型别名，逗号分隔。
# 这些别名会在 /api/tags 中显示，同时 /api/chat|/api/generate 的 model 字段可填写别名。
# 示例：这里声明两个别名 gemini25pro 与 gemini25flash（你也可以用自己的命名）。
MODELS=gemini25pro,gemini25flash

# 以下为“模型别名”对应的具体配置。命名规则：MODEL_<ALIAS>_*
# 注意：<ALIAS> 会被自动大写，并将 - . : / 转换为 _

############################
# 模型别名：gemini25pro   #
############################
# 必填：真实模型 ID（发给 Gemini 的模型名）
MODEL_GEMINI25PRO_ID=gemini-2.5-pro

# 可选：该别名专属的 API KEY（不填则使用全局 GEMINI_API_KEY）
MODEL_GEMINI25PRO_API_KEY=${GEMINI_API_KEY}

# 可选：该别名专属的 BASE_URL 与 API_VERSION（不填继承全局）
MODEL_GEMINI25PRO_BASE_URL=https://generativelanguage.googleapis.com
MODEL_GEMINI25PRO_API_VERSION=v1beta

# /api/tags 展示用（建议补齐，便于 IDE 识别与展示）
# name：展示名（未填则使用 "<alias>:<TAG或latest>"），也可单独设置 TAG
MODEL_GEMINI25PRO_NAME=gemini25pro:latest
MODEL_GEMINI25PRO_TAG=latest
# digest/size：有些 IDE 仅在 digest 非空且 size>0 时展示
MODEL_GEMINI25PRO_DIGEST=sha256:8648f39daa8fbf5b18c7b4e6a8fb4990c692751d49917417b8842ca5758e7ffc
MODEL_GEMINI25PRO_SIZE=815319791
# 兼容字段：很多 IDE 期望 format=gguf、family/families 有明确值
MODEL_GEMINI25PRO_FORMAT=gguf
MODEL_GEMINI25PRO_FAMILY=gemma3
MODEL_GEMINI25PRO_FAMILIES=gemma3
# 其他可选详情
MODEL_GEMINI25PRO_PARAMETER_SIZE=999.89M
MODEL_GEMINI25PRO_QUANTIZATION_LEVEL=Q4_K_M
MODEL_GEMINI25PRO_PARENT_MODEL=
MODEL_GEMINI25PRO_DISPLAY_NAME=Gemini 2.5 Pro
MODEL_GEMINI25PRO_DESCRIPTION=高质量，多模态

############################
# 模型别名：gemini25flash #
############################
MODEL_GEMINI25FLASH_ID=gemini-2.5-flash
MODEL_GEMINI25FLASH_API_KEY=${GEMINI_API_KEY}
MODEL_GEMINI25FLASH_BASE_URL=https://generativelanguage.googleapis.com
MODEL_GEMINI25FLASH_API_VERSION=v1beta
MODEL_GEMINI25FLASH_NAME=gemini25flash:latest
MODEL_GEMINI25FLASH_TAG=latest
MODEL_GEMINI25FLASH_DIGEST=sha256:aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa
MODEL_GEMINI25FLASH_SIZE=512000000
MODEL_GEMINI25FLASH_FORMAT=gguf
MODEL_GEMINI25FLASH_FAMILY=gemma3
MODEL_GEMINI25FLASH_FAMILIES=gemma3
MODEL_GEMINI25FLASH_PARAMETER_SIZE=1.2B
MODEL_GEMINI25FLASH_QUANTIZATION_LEVEL=Q4_0
MODEL_GEMINI25FLASH_PARENT_MODEL=
MODEL_GEMINI25FLASH_DISPLAY_NAME=Gemini 2.5 Flash
MODEL_GEMINI25FLASH_DESCRIPTION=更快，更便宜

# 使用说明（重要）：
# 1) 若你只需要一个默认模型且不需要 /api/tags，可仅设置全局 GEMINI_BASE_URL/GEMINI_API_VERSION/GEMINI_API_KEY，
#    并在请求中直接使用具体模型 ID（例如 gemini-1.5-pro）。
# 2) 若你需要 /api/tags 或通过别名管理多个模型，请至少：
#    - 设置 MODELS
#    - 为每个别名设置 MODEL_<ALIAS>_ID（必填）
#    - 建议补齐 MODEL_<ALIAS>_DIGEST 与 MODEL_<ALIAS>_SIZE（许多 IDE 需要这两项才能显示）
#    - 可根据 IDE 习惯设置 MODEL_<ALIAS>_FORMAT=gguf、MODEL_<ALIAS>_FAMILY 与 MODEL_<ALIAS>_FAMILIES
#    - 其余如 *_API_KEY/*_BASE_URL/*_API_VERSION/*_DISPLAY_NAME/*_DESCRIPTION 等按需覆盖
# 3) 也可在请求头单次覆盖：X-Gemini-Base-Url / X-Gemini-Api-Version / X-Gemini-Api-Key。

# 启动命令
# python -c "from app.main import run; run()"
